{"version":3,"file":"filter-extensions.min.js","names":["applyFiltering","elFilterField","document","getElementById","elFilteredRows","querySelectorAll","length","filterString","value","toLowerCase","forEach","elRow","classList","remove","isMatch","elName","elKey","elAuthor","g","innerText","includes","h","i","add","onDOMContentLoaded","elButton","addEventListener","readyState"],"sources":["filter-extensions.js"],"sourcesContent":["/*\n * @package   panopticon\n * @copyright Copyright (c)2023-2024 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   https://www.gnu.org/licenses/agpl-3.0.txt GNU Affero General Public License, version 3 or later\n */\n\n(() =>\n{\n    /**\n     * Applies filtering to the extensions list table\n     *\n     * @since 1.0.4\n     */\n    const applyFiltering = () =>\n    {\n        const elFilterField  = document.getElementById(\"extensions-filter-search\");\n        const elFilteredRows = document.querySelectorAll(\"tr.extensions-filterable-row\");\n\n        if (!elFilterField || !elFilteredRows || !elFilteredRows.length)\n        {\n            return;\n        }\n\n        const filterString = elFilterField.value.toLowerCase();\n\n        elFilteredRows.forEach((elRow) =>\n        {\n            if (!filterString)\n            {\n                elRow.classList.remove(\"d-none\");\n\n                return;\n            }\n\n            let isMatch = false;\n\n            const elName   = elRow.querySelectorAll(\".extensions-filterable-name\");\n            const elKey    = elRow.querySelectorAll(\".extensions-filterable-key\");\n            const elAuthor = elRow.querySelectorAll(\".extensions-filterable-author\");\n\n            if (elName.length)\n            {\n                isMatch = isMatch || elName[0]?.innerText?.toLowerCase()?.includes(filterString);\n            }\n\n            if (elKey.length)\n            {\n                isMatch = isMatch || elKey[0]?.innerText?.toLowerCase()?.includes(filterString);\n            }\n\n            if (elAuthor.length)\n            {\n                isMatch = isMatch || elAuthor[0]?.innerText?.toLowerCase()?.includes(filterString);\n            }\n\n            if (isMatch)\n            {\n                elRow.classList.remove(\"d-none\");\n            }\n            else\n            {\n                elRow.classList.add(\"d-none\");\n            }\n        });\n    };\n\n    /**\n     * Applies the event hooks when the page has finished loading\n     *\n     * @since 1.0.4\n     */\n    const onDOMContentLoaded = () =>\n    {\n        const elButton  = document.getElementById('extensions-filter-search-button');\n\n        if (!elButton)\n        {\n            return;\n        }\n\n        elButton.addEventListener('click', applyFiltering);\n    };\n\n    if (document.readyState === \"loading\")\n    {\n        document.addEventListener(\"DOMContentLoaded\", onDOMContentLoaded);\n    }\n    else\n    {\n        onDOMContentLoaded();\n    }\n})()"],"mappings":"AAMA,CAAC,UACD,IAMU,CAAAA,CAAc,CAAG,QAAAA,CAAA,CACvB,IACU,CAAAC,CAAa,CAAIC,QAAQ,CAACC,cAAc,CAAC,0BAA0B,CAAC,CACpEC,CAAc,CAAGF,QAAQ,CAACG,gBAAgB,CAAC,8BAA8B,CAAC,CAEhF,GAAKJ,CAAa,EAAKG,CAAc,EAAKA,CAAc,CAACE,MAAM,EAK/D,GAAM,CAAAC,CAAY,CAAGN,CAAa,CAACO,KAAK,CAACC,WAAW,CAAC,CAAC,CAEtDL,CAAc,CAACM,OAAO,CAAC,SAACC,CAAK,CAC7B,CACI,GAAI,CAACJ,CAAY,CAIb,WAFA,CAAAI,CAAK,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC,CAGnC,GAEG,CAAAC,CAAO,GAAQ,CAEbC,CAAM,CAAKJ,CAAK,CAACN,gBAAgB,CAAC,6BAA6B,CAAC,CAChEW,CAAK,CAAML,CAAK,CAACN,gBAAgB,CAAC,4BAA4B,CAAC,CAC/DY,CAAQ,CAAGN,CAAK,CAACN,gBAAgB,CAAC,+BAA+B,CAAC,CAExE,GAAIU,CAAM,CAACT,MAAM,CACjB,KAAAY,CAAA,CACIJ,CAAO,CAAGA,CAAO,WAAAI,CAAA,CAAIH,CAAM,CAAC,CAAC,CAAC,YAAAG,CAAA,UAAAA,CAAA,CAATA,CAAA,CAAWC,SAAS,YAAAD,CAAA,UAAAA,CAAA,CAApBA,CAAA,CAAsBT,WAAW,CAAC,CAAC,YAAAS,CAAA,QAAnCA,CAAA,CAAqCE,QAAQ,CAACb,CAAY,CAAC,CACpF,CAEA,GAAIS,CAAK,CAACV,MAAM,CAChB,KAAAe,CAAA,CACIP,CAAO,CAAGA,CAAO,WAAAO,CAAA,CAAIL,CAAK,CAAC,CAAC,CAAC,YAAAK,CAAA,UAAAA,CAAA,CAARA,CAAA,CAAUF,SAAS,YAAAE,CAAA,UAAAA,CAAA,CAAnBA,CAAA,CAAqBZ,WAAW,CAAC,CAAC,YAAAY,CAAA,QAAlCA,CAAA,CAAoCD,QAAQ,CAACb,CAAY,CAAC,CACnF,CAEA,GAAIU,CAAQ,CAACX,MAAM,CACnB,KAAAgB,CAAA,CACIR,CAAO,CAAGA,CAAO,WAAAQ,CAAA,CAAIL,CAAQ,CAAC,CAAC,CAAC,YAAAK,CAAA,UAAAA,CAAA,CAAXA,CAAA,CAAaH,SAAS,YAAAG,CAAA,UAAAA,CAAA,CAAtBA,CAAA,CAAwBb,WAAW,CAAC,CAAC,YAAAa,CAAA,QAArCA,CAAA,CAAuCF,QAAQ,CAACb,CAAY,CAAC,CACtF,CAEIO,CAAO,CAEPH,CAAK,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC,CAIhCF,CAAK,CAACC,SAAS,CAACW,GAAG,CAAC,QAAQ,CAEpC,CAAC,CAAC,CACN,CAAC,CAOKC,CAAkB,CAAG,QAAAA,CAAA,CAC3B,CACI,GAAM,CAAAC,CAAQ,CAAIvB,QAAQ,CAACC,cAAc,CAAC,iCAAiC,CAAC,CAEvEsB,CAAQ,EAKbA,CAAQ,CAACC,gBAAgB,CAAC,OAAO,CAAE1B,CAAc,CACrD,CAAC,CAE2B,SAAS,GAAjCE,QAAQ,CAACyB,UAAwB,CAEjCzB,QAAQ,CAACwB,gBAAgB,CAAC,kBAAkB,CAAEF,CAAkB,CAAC,CAIjEA,CAAkB,CAAC,CAE3B,CAAC,EAAE,CAAC"}