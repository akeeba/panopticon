(function(a,b){"use strict";function c(){try{var a=localStorage.getItem("panopticon.extensioninstall.selectedSites");return a?JSON.parse(a):[];}catch(a){return[];}}function d(a){localStorage.setItem("panopticon.extensioninstall.selectedSites",JSON.stringify(a))}function e(a,b){var e=c();b?!e.includes(a)&&e.push(a):e=e.filter(function(b){return b!==a}),d(e)}function f(){var b=a.getElementById("checkAll");if(b){var c=a.querySelectorAll(".extensioninstall-site-cb"),d=0<c.length&&Array.from(c).every(function(a){return a.checked});b.checked=d}}b.ExtensionInstall=b.ExtensionInstall||{},b.ExtensionInstall.onCheckboxChange=function(){var b=a.querySelectorAll(".extensioninstall-site-cb");b.forEach(function(a){var b=parseInt(a.dataset.siteId,10);e(b,a.checked)}),f()},b.ExtensionInstall.toggleAll=function(b){var c=a.querySelectorAll(".extensioninstall-site-cb");c.forEach(function(a){a.checked=b;var c=parseInt(a.dataset.siteId,10);e(c,b)})},b.ExtensionInstall.submitSelection=function(){var b=c();if(0===b.length)return void alert("Please select at least one site.");var d=a.getElementById("site_ids");d&&(d.value=JSON.stringify(b)),localStorage.removeItem("panopticon.extensioninstall.selectedSites"),a.getElementById("adminForm").submit()},a.addEventListener("DOMContentLoaded",function(){var b=c(),d=a.querySelectorAll(".extensioninstall-site-cb");d.forEach(function(a){var c=parseInt(a.dataset.siteId,10);a.checked=b.includes(c)}),f()})})(document,window.akeeba=window.akeeba||{});

//# sourceMappingURL=extensioninstall.min.js.map