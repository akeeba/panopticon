function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}import{createApp}from"../petite-vue/petite-vue.min.js";function SitesList(a){var b,c,d,e,f,g,h=akeeba.System.getOptions("panopticon.dashboard");return{$template:"#sitesListTemplate",sites:[],MAX_TIMER:null!==(b=null===a||void 0===a?void 0:a.maxTimer)&&void 0!==b?b:null!==(c=null===h||void 0===h?void 0:h.maxTimer)&&void 0!==c?c:90,MAX_PAGES:null!==(d=null===a||void 0===a?void 0:a.maxPages)&&void 0!==d?d:null!==(e=null===h||void 0===h?void 0:h.maxPages)&&void 0!==e?e:50,PAGE_LENGTH:null!==(f=null===a||void 0===a?void 0:a.pageLimit)&&void 0!==f?f:null!==(g=null===h||void 0===h?void 0:h.pageLimit)&&void 0!==g?g:20,restartTimer:!1,availableTime:0,countdownTimer:null,error:null,feedMeData:function(a){var b=this;0===a&&(this.sites=[]);a>=this.MAX_PAGES||akeeba.System.doAjax({ajaxURL:"".concat(h.url,"&limitstart=").concat(this.PAGE_LENGTH*a,"&limit=").concat(this.PAGE_LENGTH)},function(c){return b.error=null,"object"!==_typeof(c)||0===c.length?(!b.countdownTimer&&b.restartTimer&&(b.restartTimer=!1,b.resetTimer(),b.toggleTimer()),!1):void(b.sites=b.sites.concat(c),b.feedMeData(++a))},function(a){b.error=a},!1)},resetTimer:function(){this.availableTime=this.MAX_TIMER},toggleTimer:function(){return this.countdownTimer?(window.clearInterval(this.countdownTimer),this.availableTime=this.MAX_TIMER,void(this.countdownTimer=null)):void(this.countdownTimer=window.setInterval(this.timerTick,1e3))},stopTimer:function(){this.countdownTimer&&this.toggleTimer()},timerTick:function(){this.availableTime-=1,0===this.availableTime&&(this.toggleTimer(),this.restartTimer=!0,this.feedMeData(0))},mounted:function(){this.availableTime=this.MAX_TIMER,this.toggleTimer(),this.feedMeData(0)},reloadData:function(){this.restartTimer=null!==this.countdownTimer,this.restartTimer&&this.toggleTimer(),this.feedMeData(0)}}}var bsDirective=function(a){var b=null;return a.effect(function(){if("tooltip"===a.arg){var c,d;b&&(b.dispose(),b=null),b=new window.bootstrap.Tooltip(a.el,{placement:"auto",title:null!==(c=null===(d=a.modifiers)||void 0===d?void 0:d.raw)&&void 0!==c&&c?a.exp:a.get()})}}),function(){b&&(b.dispose(),b=null)}};createApp({SitesList:SitesList}).directive("bs",bsDirective).mount();

//# sourceMappingURL=main-dashboard.min.js.map