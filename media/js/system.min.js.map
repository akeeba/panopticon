{"version":3,"file":"system.min.js","names":["akeeba","System","documentReady","params","AjaxURL","errorCallback","password","errorDialogId","errorDialogMessageId","notification","modalDialog","array_merge","k","args","Array","prototype","slice","call","arguments","retObj","j","i","retArr","length","concat","ct","hasOwnProperty","parseInt","array_diff","arr1","argl","k1","arr","arr1keys","sprintf","format","_pad","str","len","chr","leftJustify","padding","join","justify","value","prefix","minWidth","padChar","diff","_formatBaseX","base","precision","number","toString","_formatString","customPadChar","doFormat","substring","argIndex","modifiers","specifier","method","textTransform","l","positiveNumberPrefix","charAt","isFinite","Error","indexOf","String","fromCharCode","toUpperCase","Math","round","abs","toLowerCase","replace","err","getOptions","key","defaultValue","optionsStorage","loadOptions","options","element","option","elements","document","querySelectorAll","counter","text","textContent","JSON","parse","removeClass","addClass","p","defaultErrorHandler","error","alert","modalErrorHandler","dialogId","errorMessageId","dialogElement","getElementById","errorContent","errorElement","innerHTML","Modal","open","content","width","extractResponse","msg","ret","isValid","data","delimiters","'#\"\\\\#\\\\\"#'","\"#&#x22;\\\\#\\\\&#x22;#\"","\"#&#34;\\\\#\\\\&#34;#\"","\"###\"","token_string","needsHtmlDecode","valid_pos","junk","message","substr","lastIndexOf","dummyTextbox","createElement","innerText","doAjax","successCallback","useCaching","timeout","oldToken","now","Date","getTime","s","_cacheBustingJunk","url","ajaxURL","structure","type","cache","success","extracted","sanitizeErrorMessage","Request","textStatus","errorThrown","responseText","status","statusText","readyState","Ajax","enqueue","ajax","askPermission","window","Notification","permission","requestPermission","notify","title","bodyContent","body","n","icon","setTimeout","close","lastId","store","set","property","dataset","id","myCustomDataTag","dataAttributeName","split","setAttribute","removeAttribute","e","get","addEventListener","eventName","listener","listenHandler","apply","stopPropagation","preventDefault","returnValue","attachHandler","event","cancelBubble","_typeof","Element","attachEvent","removeEventListener","detachEvent","triggerEvent","click","console","log","jQuery","trigger","fireEvent","Event","createEvent","initEvent","dispatchEvent","funcName","baseObj","ready","readyFired","readyList","fn","ctx","readyStateChange","readyEventHandlersInstalled","callback","context","push","newClasses","className","currentClasses","trim","oldClasses","hasClass","aClass","toggleClass","checkAll","checkbox","stub","form","c","checked","boxchecked","isChecked","isItChecked","tableOrdering","order","dir","task","filter_order","filter_order_Dir","submitForm","validate","noValidate","hasAttribute","button","style","display","appendChild","removeChild","orderTable","table","direction","selectedIndex","iterateNodes","el","assignDefaultErrorHandler","Text","strings","_","def","newStrings","load","dummyObject","a","plural","count","altKey","hasKey","object","doEncryptedAjax","json","stringify","post_data","modal","rel","modalWrapper","modalContent","modalHeader","headerCloseButton","modalHeaderTitle","CancelHandler","modalBody","href","inheritedElement","querySelector","childNodes","iFrame","src","height","frameborder","allowtransparency","iFrameHeight","iFrameWidth","showButtons","modalFooter","okLabel","cancelLabel","OkLabel","CancelLabel","cancelButton","okButton","OkHandler","inherit","forEach"],"sources":["system.js"],"sourcesContent":["/*\n * @package   panopticon\n * @copyright Copyright (c)2023-2024 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   https://www.gnu.org/licenses/agpl-3.0.txt GNU Affero General Public License, version 3 or later\n */\n\nif (typeof akeeba === \"undefined\")\n{\n    var akeeba = {};\n}\n\nif (typeof akeeba.System === \"undefined\")\n{\n    akeeba.System = {\n        documentReady: function (callback, context)\n                       {\n                       }, params: {\n            AjaxURL:              \"\",\n            errorCallback:        null,\n            password:             \"\",\n            errorDialogId:        \"errorDialog\",\n            errorDialogMessageId: \"errorDialogPre\"\n        }, notification: {}, modalDialog: null\n    };\n}\n\nakeeba.System.array_merge = function ()\n{\n    // Merges elements from passed arrays into one array\n    //\n    // version: 1103.1210\n    // discuss at: http://phpjs.org/functions/array_merge\n    // +   original by: Brett Zamir (http://brett-zamir.me)\n    // +   bugfixed by: Nate\n    // +   input by: josh\n    // +   bugfixed by: Brett Zamir (http://brett-zamir.me)\n    // *     example 1: arr1 = {\"color\": \"red\", 0: 2, 1: 4}\n    // *     example 1: arr2 = {0: \"a\", 1: \"b\", \"color\": \"green\", \"shape\": \"trapezoid\", 2: 4}\n    // *     example 1: array_merge(arr1, arr2)\n    // *     returns 1: {\"color\": \"green\", 0: 2, 1: 4, 2: \"a\", 3: \"b\", \"shape\": \"trapezoid\", 4: 4}\n    // *     example 2: arr1 = []\n    // *     example 2: arr2 = {1: \"data\"}\n    // *     example 2: array_merge(arr1, arr2)\n    // *     returns 2: {0: \"data\"}\n    var args = Array.prototype.slice.call(arguments), retObj = {}, k, j = 0, i = 0, retArr = true;\n\n    for (i = 0; i < args.length; i++)\n    {\n        if (!(args[i] instanceof Array))\n        {\n            retArr = false;\n            break;\n        }\n    }\n\n    if (retArr)\n    {\n        retArr = [];\n        for (i = 0; i < args.length; i++)\n        {\n            retArr = retArr.concat(args[i]);\n        }\n        return retArr;\n    }\n    var ct = 0;\n\n    for (i = 0, ct = 0; i < args.length; i++)\n    {\n        if (args[i] instanceof Array)\n        {\n            for (j = 0; j < args[i].length; j++)\n            {\n                retObj[ct++] = args[i][j];\n            }\n        }\n        else\n        {\n            for (k in args[i])\n            {\n                if (args[i].hasOwnProperty(k))\n                {\n                    if (parseInt(k, 10) + \"\" === k)\n                    {\n                        retObj[ct++] = args[i][k];\n                    }\n                    else\n                    {\n                        retObj[k] = args[i][k];\n                    }\n                }\n            }\n        }\n    }\n    return retObj;\n};\n\n// eslint-disable-line camelcase\n//  discuss at: http://locutus.io/php/array_diff/\n// original by: Kevin van Zonneveld (http://kvz.io)\n// improved by: Sanjoy Roy\n//  revised by: Brett Zamir (http://brett-zamir.me)\n//   example 1: array_diff(['Kevin', 'van', 'Zonneveld'], ['van', 'Zonneveld'])\n//   returns 1: {0:'Kevin'}\nakeeba.System.array_diff = function (arr1)\n{\n    var retArr = {};\n    var argl   = arguments.length;\n    var k1     = \"\";\n    var i      = 1;\n    var k      = \"\";\n    var arr    = {};\n\n    arr1keys: for (k1 in arr1)\n    {\n        for (i = 1; i < argl; i++)\n        {\n            arr = arguments[i];\n            for (k in arr)\n            {\n                if (arr[k] === arr1[k1])\n                {\n                    // If it reaches here, it was found in at least one array, so try next value\n                    continue arr1keys;\n                }\n            }\n            retArr[k1] = arr1[k1];\n        }\n    }\n\n    return retArr\n};\n\n//  discuss at: https://locutus.io/php/sprintf/\n// original by: Ash Searle (https://hexmen.com/blog/)\n// improved by: Michael White (https://getsprink.com)\n// improved by: Jack\n// improved by: Kevin van Zonneveld (https://kvz.io)\n// improved by: Kevin van Zonneveld (https://kvz.io)\n// improved by: Kevin van Zonneveld (https://kvz.io)\n// improved by: Dj\n// improved by: Allidylls\n//    input by: Paulo Freitas\n//    input by: Brett Zamir (https://brett-zamir.me)\n// improved by: Rafał Kukawski (https://kukawski.pl)\n//   example 1: sprintf(\"%01.2f\", 123.1)\n//   returns 1: '123.10'\n//   example 2: sprintf(\"[%10s]\", 'monkey')\n//   returns 2: '[    monkey]'\n//   example 3: sprintf(\"[%'#10s]\", 'monkey')\n//   returns 3: '[####monkey]'\n//   example 4: sprintf(\"%d\", 123456789012345)\n//   returns 4: '123456789012345'\n//   example 5: sprintf('%-03s', 'E')\n//   returns 5: 'E00'\n//   example 6: sprintf('%+010d', 9)\n//   returns 6: '+000000009'\n//   example 7: sprintf('%+0\\'@10d', 9)\n//   returns 7: '@@@@@@@@+9'\n//   example 8: sprintf('%.f', 3.14)\n//   returns 8: '3.140000'\n//   example 9: sprintf('%% %2$d', 1, 2)\n//   returns 9: '% 2'\nakeeba.System.sprintf = function ()\n{\n    const regex         = /%%|%(?:(\\d+)\\$)?((?:[-+#0 ]|'[\\s\\S])*)(\\d+)?(?:\\.(\\d*))?([\\s\\S])/g\n    const args          = arguments\n    let i               = 0\n    const format        = args[i++]\n    const _pad          = function (str, len, chr, leftJustify)\n    {\n        if (!chr)\n        {\n            chr = \" \"\n        }\n        const padding = (str.length >= len) ? \"\" : new Array(1 + len - str.length >>> 0).join(chr)\n        return leftJustify ? str + padding : padding + str\n    }\n    const justify       = function (value, prefix, leftJustify, minWidth, padChar)\n    {\n        const diff = minWidth - value.length\n        if (diff > 0)\n        {\n            // when padding with zeros\n            // on the left side\n            // keep sign (+ or -) in front\n            if (!leftJustify && padChar === \"0\")\n            {\n                value = [\n                    value.slice(0, prefix.length),\n                    _pad(\"\", diff, \"0\", true),\n                    value.slice(prefix.length)\n                ].join(\"\")\n            }\n            else\n            {\n                value = _pad(value, minWidth, padChar, leftJustify)\n            }\n        }\n        return value\n    }\n    const _formatBaseX  = function (value, base, leftJustify, minWidth, precision, padChar)\n    {\n        // Note: casts negative numbers to positive ones\n        const number = value >>> 0\n        value        = _pad(number.toString(base), precision || 0, \"0\", false)\n        return justify(value, \"\", leftJustify, minWidth, padChar)\n    }\n    // _formatString()\n    const _formatString = function (value, leftJustify, minWidth, precision, customPadChar)\n    {\n        if (precision !== null && precision !== undefined)\n        {\n            value = value.slice(0, precision)\n        }\n        return justify(value, \"\", leftJustify, minWidth, customPadChar)\n    }\n    // doFormat()\n    const doFormat      = function (substring, argIndex, modifiers, minWidth, precision, specifier)\n    {\n        let number, prefix, method, textTransform, value\n        if (substring === \"%%\")\n        {\n            return \"%\"\n        }\n        // parse modifiers\n        let padChar              = \" \" // pad with spaces by default\n        let leftJustify          = false\n        let positiveNumberPrefix = \"\"\n        let j, l\n        for (j = 0, l = modifiers.length; j < l; j++)\n        {\n            switch (modifiers.charAt(j))\n            {\n                case \" \":\n                case \"0\":\n                    padChar = modifiers.charAt(j)\n                    break\n                case \"+\":\n                    positiveNumberPrefix = \"+\"\n                    break\n                case \"-\":\n                    leftJustify = true\n                    break\n                case \"'\":\n                    if (j + 1 < l)\n                    {\n                        padChar = modifiers.charAt(j + 1)\n                        j++\n                    }\n                    break\n            }\n        }\n        if (!minWidth)\n        {\n            minWidth = 0\n        }\n        else\n        {\n            minWidth = +minWidth\n        }\n        if (!isFinite(minWidth))\n        {\n            throw new Error(\"Width must be finite\")\n        }\n        if (!precision)\n        {\n            precision = (specifier === \"d\") ? 0 : \"fFeE\".indexOf(specifier) > -1 ? 6 : undefined\n        }\n        else\n        {\n            precision = +precision\n        }\n        if (argIndex && +argIndex === 0)\n        {\n            throw new Error(\"Argument number must be greater than zero\")\n        }\n        if (argIndex && +argIndex >= args.length)\n        {\n            throw new Error(\"Too few arguments\")\n        }\n        value = argIndex ? args[+argIndex] : args[i++]\n        switch (specifier)\n        {\n            case \"%\":\n                return \"%\"\n            case \"s\":\n                return _formatString(value + \"\", leftJustify, minWidth, precision, padChar)\n            case \"c\":\n                return _formatString(String.fromCharCode(+value), leftJustify, minWidth, precision, padChar)\n            case \"b\":\n                return _formatBaseX(value, 2, leftJustify, minWidth, precision, padChar)\n            case \"o\":\n                return _formatBaseX(value, 8, leftJustify, minWidth, precision, padChar)\n            case \"x\":\n                return _formatBaseX(value, 16, leftJustify, minWidth, precision, padChar)\n            case \"X\":\n                return _formatBaseX(value, 16, leftJustify, minWidth, precision, padChar)\n                    .toUpperCase()\n            case \"u\":\n                return _formatBaseX(value, 10, leftJustify, minWidth, precision, padChar)\n            case \"i\":\n            case \"d\":\n                number = +value || 0\n                // Plain Math.round doesn't just truncate\n                number = Math.round(number - number % 1)\n                prefix = number < 0 ? \"-\" : positiveNumberPrefix\n                value  = prefix + _pad(String(Math.abs(number)), precision, \"0\", false)\n                if (leftJustify && padChar === \"0\")\n                {\n                    // can't right-pad 0s on integers\n                    padChar = \" \"\n                }\n                return justify(value, prefix, leftJustify, minWidth, padChar)\n            case \"e\":\n            case \"E\":\n            case \"f\": // @todo: Should handle locales (as per setlocale)\n            case \"F\":\n            case \"g\":\n            case \"G\":\n                number        = +value\n                prefix        = number < 0 ? \"-\" : positiveNumberPrefix\n                method        = [\"toExponential\", \"toFixed\", \"toPrecision\"][\"efg\".indexOf(specifier.toLowerCase())]\n                textTransform = [\"toString\", \"toUpperCase\"][\"eEfFgG\".indexOf(specifier) % 2]\n                value         = prefix + Math.abs(number)[method](precision)\n                return justify(value, prefix, leftJustify, minWidth, padChar)[textTransform]()\n            default:\n                // unknown specifier, consume that char and return empty\n                return \"\"\n        }\n    }\n    try\n    {\n        return format.replace(regex, doFormat)\n    }\n    catch (err)\n    {\n        return false\n    }\n}\n\n/**\n * Get a script parameter passed from the backend to the frontend\n *\n * @param {String} key - The name of the parameter to retrieve\n * @param {*} [defaultValue=null] - Default value of the parameter is not yet defined\n *\n * @returns {*}\n */\nakeeba.System.getOptions = function (key, defaultValue)\n{\n    if (typeof defaultValue == \"undefined\")\n    {\n        defaultValue = null;\n    }\n\n    // Load options if they not exists\n    if (!akeeba.System.optionsStorage)\n    {\n        akeeba.System.loadOptions();\n    }\n\n    if (akeeba.System.optionsStorage[key] !== undefined)\n    {\n        return akeeba.System.optionsStorage[key];\n    }\n\n    return defaultValue;\n};\n\n/**\n * Load new options from a given options object or from an element\n *\n * If options is not specified it will loop all element with the CSS classed \"akeeba-script-options\" and \"new\". The\n * text content of each of these elements is assumed to be a JSON document to be merged with the script options.\n *\n * @param  {Object}  [options]  The options object to load. Eg {\"foobar\" : {\"option1\": 1, \"option2\": 2}}\n */\nakeeba.System.loadOptions = function (options)\n{\n    // Load form a container element\n    if (!options)\n    {\n        var elements = document.querySelectorAll(\".akeeba-script-options.new\");\n        var str;\n        var element;\n        var option;\n        var counter  = 0;\n\n        for (var i = 0, l = elements.length; i < l; i++)\n        {\n            element = elements[i];\n            str     = element.text || element.textContent;\n            option  = JSON.parse(str);\n\n            if (option)\n            {\n                akeeba.System.loadOptions(option);\n                counter++;\n            }\n\n            akeeba.System.removeClass(element, \"new\");\n            akeeba.System.addClass(element, \"loaded\");\n        }\n\n        if (counter)\n        {\n            return;\n        }\n    }\n\n    // Initial loading\n    if (!akeeba.System.optionsStorage)\n    {\n        akeeba.System.optionsStorage = options || {};\n\n        return;\n    }\n\n    // Obviously, we have nothing to load.\n    if (!options)\n    {\n        return;\n    }\n\n    // Merge with existing\n    for (var p in options)\n    {\n        if (options.hasOwnProperty(p))\n        {\n            akeeba.System.optionsStorage[p] = options[p];\n        }\n    }\n};\n\n/**\n * An extremely simple error handler, dumping error messages to screen\n *\n * @param  {String} error - The error message string\n */\nakeeba.System.defaultErrorHandler = function (error)\n{\n    if ((error == null) || (typeof error == \"undefined\"))\n    {\n        return;\n    }\n\n    alert(\"An error has occurred\\n\" + error);\n};\n\n/**\n * An error handler displayed in a Modal dialog. It requires you to set up a modal dialog div with id \"errorDialog\"\n *\n * @param  {String} error - The error message string\n */\nakeeba.System.modalErrorHandler = function (error)\n{\n    var dialogId       = akeeba.System.getOptions(\n        \"akeeba.System.params.errorDialogId\", akeeba.System.params.errorDialogId);\n    var errorMessageId = akeeba.System.getOptions(\n        \"akeeba.System.params.errorDialogMessageId\", akeeba.System.params.errorDialogMessageId);\n\n    var dialogElement = document.getElementById(dialogId);\n    var errorContent  = \"error\";\n\n    if (dialogElement != null)\n    {\n        var errorElement       = document.getElementById(errorMessageId);\n        errorElement.innerHTML = error;\n        errorContent           = dialogElement.innerHTML;\n    }\n\n    akeeba.Modal.open({\n        content: errorContent, width: \"80%\"\n    });\n};\n\nakeeba.System.extractResponse = function (msg)\n{\n    var ret = {\n        isValid: false, data: null\n    };\n\n    // Format: delimiter => needsHtmlDecode\n    var delimiters = {\n        \"#\\\"\\\\#\\\\\\\"#\": false, \"#&#x22;\\\\#\\\\&#x22;#\": true, \"#&#34;\\\\#\\\\&#34;#\": true, \"###\": false\n    }\n\n    for (var token_string in delimiters)\n    {\n        var needsHtmlDecode = delimiters[token_string];\n        var valid_pos       = msg.indexOf(token_string);\n        var junk            = \"\";\n        var message         = \"\";\n\n        // If this delimiter is not found move over to the next one\n        if (valid_pos === -1)\n        {\n            continue;\n        }\n\n        // Remove the junk BEFORE the delimiter in front of the response.\n        message   = valid_pos !== 0 ? msg.substr(valid_pos) : msg;\n        // Remove the delimiter in front of the response\n        message   = message.substr(token_string.length);\n        // Get of rid of any junk after the data\n        valid_pos = message.lastIndexOf(token_string);\n\n        // If the delimiter is not found at the end of the data move over to the next delimiter\n        if (valid_pos === -1)\n        {\n            continue;\n        }\n\n        // Remove the delimiter at the end of the data and anything after it.\n        message = message.substr(0, valid_pos);\n\n        // Do I need to HTML decode the JSON–encoded message?\n        if (needsHtmlDecode)\n        {\n            var dummyTextbox = document.createElement(\"textarea\");\n\n            dummyTextbox.innerHTML = message;\n            message                = dummyTextbox.innerText;\n        }\n\n        // Let's try to decode the message\n        try\n        {\n            var data = JSON.parse(message);\n        }\n        catch (err)\n        {\n            continue;\n        }\n\n        ret.isValid = true;\n        ret.data    = data;\n\n        return ret;\n    }\n\n    return ret;\n}\n\n/**\n * Performs an AJAX request and returns the parsed JSON output.\n * akeeba.System.params.AjaxURL is used as the AJAX proxy URL.\n * If there is no errorCallback, the global akeeba.System.params.errorCallback is used.\n *\n * @param  {Object} data - An object with the query data, e.g. a serialized form\n * @param  {String} [data.ajaxURL] - The endpoint URL of the AJAX request, default akeeba.System.params.AjaxURL\n * @param  {function} successCallback - A function accepting a single object parameter, called on success\n * @param  {function} [errorCallback] - A function accepting a single string parameter, called on failure\n * @param  {Boolean} [useCaching=true] - Should we use the cache?\n * @param  {Number} [timeout=60000] - Timeout before cancelling the request in milliseconds\n * @param  {Boolean} [oldToken=false] - Ignored\n */\nakeeba.System.doAjax = function (data, successCallback, errorCallback, useCaching, timeout, oldToken)\n{\n    if (useCaching == null)\n    {\n        useCaching = true;\n    }\n\n    // We always want to burst the cache\n    var now                = new Date().getTime() / 1000;\n    var s                  = parseInt(now, 10);\n    data._cacheBustingJunk = Math.round((now - s) * 1000) / 1000;\n\n    if (timeout == null)\n    {\n        timeout = 600000;\n    }\n\n    var url = akeeba.System.getOptions(\"akeeba.System.params.AjaxURL\", akeeba.System.params.AjaxURL);\n\n    if (data.hasOwnProperty(\"ajaxURL\"))\n    {\n        url = data.ajaxURL;\n\n        delete data.url;\n    }\n\n    var structure = {\n        type:     \"POST\", url: url, cache: false, data: data, timeout: timeout, success: function (msg)\n        {\n            var extracted = akeeba.System.extractResponse(msg);\n\n            if (!extracted.isValid)\n            {\n                // Valid data not found in the response\n                msg = akeeba.System.sanitizeErrorMessage(msg);\n                msg = \"Invalid AJAX data: \" + msg;\n\n                if (errorCallback == null)\n                {\n                    if (akeeba.System.params.errorCallback != null)\n                    {\n                        akeeba.System.params.errorCallback(msg);\n                    }\n                }\n                else\n                {\n                    errorCallback(msg);\n                }\n\n                return;\n            }\n\n            // Call the callback function\n            successCallback(extracted.data);\n        }, error: function (Request, textStatus, errorThrown)\n                  {\n                      var text    = Request.responseText ? Request.responseText : \"\";\n                      var message = \"<strong>AJAX Loading Error</strong><br>HTTP Status: \" + Request.status + \" (\" + Request.statusText + \")<br>\";\n\n                      message = message + \"Internal status: \" + textStatus + \"<br>\";\n                      message = message + \"XHR ReadyState: \" + Request.readyState + \"<br>\";\n                      message = message + \"Raw server response:<br>\" + akeeba.System.sanitizeErrorMessage(text);\n\n                      if (errorCallback == null)\n                      {\n                          if (akeeba.System.params.errorCallback != null)\n                          {\n                              akeeba.System.params.errorCallback(message);\n                          }\n                      }\n                      else\n                      {\n                          errorCallback(message);\n                      }\n                  }\n    };\n\n    if (useCaching)\n    {\n        akeeba.Ajax.enqueue(structure);\n    }\n    else\n    {\n        akeeba.Ajax.ajax(structure);\n    }\n};\n\n/**\n * Sanitize a message before displaying it in an error dialog. Some servers return an HTML page with DOM modifying\n * JavaScript when they block the backup script for any reason (usually with a 5xx HTTP error code). Displaying the\n * raw response in the error dialog has the side-effect of killing our backup resumption JavaScript or even completely\n * destroy the page, making backup restart impossible.\n *\n * @param {String} msg - The message to sanitize\n *\n * @returns {String}\n */\nakeeba.System.sanitizeErrorMessage = function (msg)\n{\n    if (msg.indexOf(\"<script\") > -1)\n    {\n        msg = \"(HTML containing script tags)\";\n    }\n\n    return msg;\n};\n\n/**\n * Requests permission for displaying desktop notifications\n */\nakeeba.System.notification.askPermission = function ()\n{\n    if (!akeeba.System.getOptions(\"akeeba.System.notification.hasDesktopNotification\", false))\n    {\n        return;\n    }\n\n    if (window.Notification === undefined)\n    {\n        return;\n    }\n\n    if (window.Notification.permission === \"default\")\n    {\n        window.Notification.requestPermission();\n    }\n};\n\n/**\n * Displays a desktop notification with the given title and body content. Chrome and Firefox will display our custom\n * icon in the notification. Safari will not display our custom icon but will place the notification in the iOS /\n * Mac OS X notification centre. Firefox displays the icon to the right of the notification and its own icon on the\n * left hand side. It also plays a sound when the notification is displayed. Chrome plays no sound and displays only\n * our icon on the left hand side.\n *\n * The notifications have a default timeout of 5 seconds. Clicking on them, or waiting for 5 seconds, will dismiss\n * them. You can change the timeout using the timeout parameter. Set to 0 for a permanent notification.\n *\n * @param  {String} title - The title of the notification\n * @param  {String} [bodyContent] - The body of the notification (optional)\n * @param  {Number} [timeout=5000] - Notification timeout in milliseconds\n */\nakeeba.System.notification.notify = function (title, bodyContent, timeout)\n{\n    if (!akeeba.System.getOptions(\"akeeba.System.notification.hasDesktopNotification\", false))\n    {\n        return;\n    }\n\n    if (window.Notification === undefined)\n    {\n        return;\n    }\n\n    if (window.Notification.permission !== \"granted\")\n    {\n        return;\n    }\n\n    if (timeout === undefined)\n    {\n        timeout = 5000;\n    }\n\n    if (bodyContent === undefined)\n    {\n        body = \"\";\n    }\n\n    var n = new window.Notification(title, {\n        \"body\": bodyContent, \"icon\": akeeba.System.getOptions(\"akeeba.System.notification.iconURL\")\n    });\n\n    if (timeout > 0)\n    {\n        setTimeout(function (notification)\n        {\n            return function ()\n            {\n                notification.close();\n            }\n        }(n), timeout);\n    }\n};\n\n/**\n * Get and set data to elements. Use:\n * akeeba.System.data.set(element, property, value)\n * akeeba.System.data.get(element, property, defaultValue)\n *\n * On modern browsers (minimum IE 11, Chrome 8, FF 6, Opera 11, Safari 6) this will use the data-* attributes of the\n * elements where possible. On old browsers it will use an internal cache and manually apply data-* attributes.\n */\nakeeba.System.data = (function ()\n{\n    var lastId = 0, store = {};\n\n    return {\n        set: function (element, property, value)\n             {\n                 // IE 11, modern browsers\n                 if (element.dataset)\n                 {\n                     element.dataset[property] = value;\n\n                     if (value == null)\n                     {\n                         delete element.dataset[property];\n                     }\n\n                     return;\n                 }\n\n                 // IE 8 to 10, old browsers\n                 var id;\n\n                 if (element.myCustomDataTag === undefined)\n                 {\n                     id                      = lastId++;\n                     element.myCustomDataTag = id;\n                 }\n\n                 if (typeof (store[id]) == \"undefined\")\n                 {\n                     store[id] = {};\n                 }\n\n                 // Store the value in the internal cache...\n                 store[id][property] = value;\n\n                 // ...and the DOM\n\n                 // Convert the property to dash-format\n                 var dataAttributeName = \"data-\" + property.split(/(?=[A-Z])/).join(\"-\").toLowerCase();\n\n                 if (element.setAttribute)\n                 {\n                     element.setAttribute(dataAttributeName, value);\n                 }\n\n                 if (value == null)\n                 {\n                     // IE 8 throws an exception on \"delete\"\n                     try\n                     {\n                         delete store[id][property];\n                         element.removeAttribute(dataAttributeName);\n                     }\n                     catch (e)\n                     {\n                         store[id][property] = null;\n                     }\n                 }\n             },\n\n        get: function (element, property, defaultValue)\n             {\n                 // IE 11, modern browsers\n                 if (element.dataset)\n                 {\n                     if (typeof (element.dataset[property]) == \"undefined\")\n                     {\n                         element.dataset[property] = defaultValue;\n                     }\n\n                     return element.dataset[property];\n                 }\n                 // IE 8 to 10, old browsers\n\n                 if (typeof (defaultValue) == \"undefined\")\n                 {\n                     defaultValue = null;\n                 }\n\n                 // Make sure we have an internal storage\n                 if (typeof (store[element.myCustomDataTag]) == \"undefined\")\n                 {\n                     store[element.myCustomDataTag] = {};\n                 }\n\n                 // Convert the property to dash-format\n                 var dataAttributeName = \"data-\" + property.split(/(?=[A-Z])/).join(\"-\").toLowerCase();\n\n                 // data-* attributes have precedence\n                 if (typeof (element[dataAttributeName]) !== \"undefined\")\n                 {\n                     store[element.myCustomDataTag][property] = element[dataAttributeName];\n                 }\n\n                 // No data-* attribute and no stored value? Use the default.\n                 if (typeof (store[element.myCustomDataTag][property]) == \"undefined\")\n                 {\n                     this.set(element, property, defaultValue);\n                 }\n\n                 // Return the value of the data\n                 return store[element.myCustomDataTag][property];\n             }\n    };\n}());\n\n\n/**\n * Adds an event listener to an element\n *\n * @param {Element|String} element - The element or DOM ID to set the event listener to\n * @param {String} eventName - The name of the event to handle, e.g. \"click\", \"change\", \"error\", ...\n * @param {function} listener - The event listener to add\n */\nakeeba.System.addEventListener = function (element, eventName, listener)\n{\n    // Allow the passing of an element ID string instead of the DOM elem\n    if (typeof element === \"string\")\n    {\n        element = document.getElementById(element);\n    }\n\n    if (element == null)\n    {\n        return;\n    }\n\n    if (typeof element != \"object\")\n    {\n        return;\n    }\n\n    if (!(element instanceof Element))\n    {\n        return;\n    }\n\n    // Handles the listener in a way that returning boolean false will cancel the event propagation\n    function listenHandler(e)\n    {\n        var ret = listener.apply(this, arguments);\n\n        if (ret === false)\n        {\n            if (e.stopPropagation())\n            {\n                e.stopPropagation();\n            }\n\n            if (e.preventDefault)\n            {\n                e.preventDefault();\n            }\n            else\n            {\n                e.returnValue = false;\n            }\n        }\n\n        return (ret);\n    }\n\n    // Equivalent of listenHandler for IE8\n    function attachHandler()\n    {\n        // Normalize the target of the event –– PhpStorm detects this as an error\n        // window.event.target = window.event.srcElement;\n\n        var ret = listener.call(element, window.event);\n\n        if (ret === false)\n        {\n            window.event.returnValue  = false;\n            window.event.cancelBubble = true;\n        }\n\n        return (ret);\n    }\n\n    if (element.addEventListener)\n    {\n        element.addEventListener(eventName, listenHandler, false);\n\n        return;\n    }\n\n    element.attachEvent(\"on\" + eventName, attachHandler);\n};\n\n/**\n * Remove an event listener from an element\n *\n * @param {Element|String} element - The element or DOM ID to remove the event listener from\n * @param {String} eventName - The name of the event to handle, e.g. \"click\", \"change\", \"error\", ...\n * @param {function} listener - The event listener to remove\n */\nakeeba.System.removeEventListener = function (element, eventName, listener)\n{\n    // Allow the passing of an element ID string instead of the DOM elem\n    if (typeof element === \"string\")\n    {\n        element = document.getElementById(element);\n    }\n\n    if (element == null)\n    {\n        return;\n    }\n\n    if (typeof element != \"object\")\n    {\n        return;\n    }\n\n    if (!(element instanceof Element))\n    {\n        return;\n    }\n\n    if (element.removeEventListener)\n    {\n        element.removeEventListener(eventName, listener);\n\n        return;\n    }\n\n    element.detachEvent(\"on\" + eventName, listener);\n};\n\n/**\n * Trigger an event on a DOM element\n *\n * @param {Element|String} element - The element or DOM ID to trigger the event on\n * @param {String} eventName - The name of the event to trigger, e.g. \"click\", \"change\", \"error\", ...\n */\nakeeba.System.triggerEvent = function (element, eventName)\n{\n    if (typeof element == \"undefined\")\n    {\n        return;\n    }\n\n    if (element === null)\n    {\n        return;\n    }\n\n    // Allow the passing of an element ID string instead of the DOM elem\n    if (typeof element === \"string\")\n    {\n        element = document.getElementById(element);\n    }\n\n    if (element === null)\n    {\n        return;\n    }\n\n    if (typeof element != \"object\")\n    {\n        return;\n    }\n\n    if (!(element instanceof Element))\n    {\n        return;\n    }\n\n    if (eventName === \"click\" && (typeof element.click === \"function\"))\n    {\n        console.log(element);\n        element.click();\n\n        return;\n    }\n\n    // Use jQuery and be done with it!\n    if (typeof window.jQuery === \"function\")\n    {\n        window.jQuery(element).trigger(eventName);\n\n        return;\n    }\n\n    // Internet Explorer way\n    if (document.fireEvent && (typeof window.Event == \"undefined\"))\n    {\n        element.fireEvent(\"on\" + eventName);\n\n        return;\n    }\n\n    // This works on Chrome and Edge but not on Firefox. Ugh.\n    var event = null;\n\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n    element.dispatchEvent(event);\n};\n\n// document.ready equivalent from https://github.com/jfriend00/docReady/blob/master/docready.js\n(function (funcName, baseObj)\n{\n    funcName = funcName || \"documentReady\";\n    baseObj  = baseObj || akeeba.System;\n\n    var readyList                   = [];\n    var readyFired                  = false;\n    var readyEventHandlersInstalled = false;\n\n    // Call this when the document is ready. This function protects itself against being called more than once.\n    function ready()\n    {\n        if (!readyFired)\n        {\n            // This must be set to true before we start calling callbacks\n            readyFired = true;\n\n            for (var i = 0; i < readyList.length; i++)\n            {\n                /**\n                 * If a callback here happens to add new ready handlers, this function will see that it already\n                 * fired and will schedule the callback to run right after this event loop finishes so all handlers\n                 * will still execute in order and no new ones will be added to the readyList while we are\n                 * processing the list.\n                 */\n                readyList[i].fn.call(window, readyList[i].ctx);\n            }\n\n            // Allow any closures held by these functions to free\n            readyList = [];\n        }\n    }\n\n    /**\n     * Solely for the benefit of Internet Explorer\n     */\n    function readyStateChange()\n    {\n        if (document.readyState === \"complete\")\n        {\n            ready();\n        }\n    }\n\n    /**\n     * This is the one public interface:\n     *\n     * akeeba.System.documentReady(fn, context);\n     *\n     * @param   callback   The callback function to execute when the document is ready.\n     * @param   context    Optional. If present, it will be passed as an argument to the callback.\n     */\n    //\n    //\n    //\n    baseObj[funcName] = function (callback, context)\n    {\n        // If ready() has already fired, then just schedule the callback to fire asynchronously\n        if (readyFired)\n        {\n            setTimeout(function ()\n            {\n                callback(context);\n            }, 1);\n\n            return;\n        }\n\n        // Add the function and context to the queue\n        readyList.push({fn: callback, ctx: context});\n\n        /**\n         * If the document is already ready, schedule the ready() function to run immediately.\n         *\n         * Note: IE is only safe when the readyState is \"complete\", other browsers are safe when the readyState is\n         * \"interactive\"\n         */\n        if (document.readyState === \"complete\" || (!document.attachEvent && document.readyState === \"interactive\"))\n        {\n            setTimeout(ready, 1);\n\n            return;\n        }\n\n        // If the handlers are already installed just quit\n        if (readyEventHandlersInstalled)\n        {\n            return;\n        }\n\n        // We don't have event handlers installed, install them\n        readyEventHandlersInstalled = true;\n\n        // -- We have an addEventListener method in the document, this is a modern browser.\n\n        if (document.addEventListener)\n        {\n            // Prefer using the DOMContentLoaded event\n            document.addEventListener(\"DOMContentLoaded\", ready, false);\n\n            // Our backup is the window's \"load\" event\n            window.addEventListener(\"load\", ready, false);\n\n            return;\n        }\n\n        // -- Most likely we're stuck with an ancient version of IE\n\n        // Our primary method of activation is the onreadystatechange event\n        document.attachEvent(\"onreadystatechange\", readyStateChange);\n\n        // Our backup is the windows's \"load\" event\n        window.attachEvent(\"onload\", ready);\n    }\n})(\"documentReady\", akeeba.System);\n\n/**\n * Add one or more CSS classes to an element, if they do not already exist\n *\n * @param {Element} element - The element to add new classes to\n * @param {String|String[]} newClasses - One or more classes to append\n */\nakeeba.System.addClass = function (element, newClasses)\n{\n    if (!element || !element.className)\n    {\n        return;\n    }\n\n    var currentClasses = element.className.split(\" \");\n\n    if ((typeof newClasses) == \"string\")\n    {\n        newClasses = newClasses.split(\" \");\n    }\n\n    currentClasses = akeeba.System.array_merge(currentClasses, newClasses);\n\n    element.className = \"\";\n\n    for (var property in currentClasses)\n    {\n        if (currentClasses.hasOwnProperty(property))\n        {\n            element.className += currentClasses[property] + \" \";\n        }\n    }\n\n    if (element.className.trim)\n    {\n        element.className = element.className.trim();\n    }\n};\n\n/**\n * Remove one or more CSS classes to an element, if they already exist\n *\n * @param {Element} element - The element to remove classes from\n * @param {String|String[]} oldClasses - One or more classes to remove\n */\nakeeba.System.removeClass = function (element, oldClasses)\n{\n    if (!element || !element.className)\n    {\n        return;\n    }\n\n    var currentClasses = element.className.split(\" \");\n\n    if ((typeof oldClasses) == \"string\")\n    {\n        oldClasses = oldClasses.split(\" \");\n    }\n\n    currentClasses = akeeba.System.array_diff(currentClasses, oldClasses);\n\n    element.className = \"\";\n\n    for (property in currentClasses)\n    {\n        if (currentClasses.hasOwnProperty(property))\n        {\n            element.className += currentClasses[property] + \" \";\n        }\n    }\n\n    if (element.className.trim)\n    {\n        element.className = element.className.trim();\n    }\n};\n\n/**\n * Does the element have the specified CSS class?\n *\n * @param {Element} element - The DOM element to query for CSS classes\n * @param {String} aClass - The CSS class to check for existence\n *\n * @returns {boolean} - True if element has the CSS class aClass\n */\nakeeba.System.hasClass = function (element, aClass)\n{\n    if (!element || !element.className)\n    {\n        return;\n    }\n\n    var currentClasses = element.className.split(\" \");\n\n    for (i = 0; i < currentClasses.length; i++)\n    {\n        if (currentClasses[i] == aClass)\n        {\n            return true;\n        }\n    }\n\n    return false;\n};\n\n/**\n * Toggle a CSS class on an element.\n *\n * If the CSS class does not exist on the element it will be appended. If it already exists it will be removed.\n *\n * @param {Element} element - The element to toggle the CSS class on\n * @param {String} aClass - The name of the CSS class to toggle\n */\nakeeba.System.toggleClass = function (element, aClass)\n{\n    if (akeeba.System.hasClass(element, aClass))\n    {\n        akeeba.System.removeClass(element, aClass);\n\n        return;\n    }\n\n    akeeba.System.addClass(element, aClass);\n};\n\n/**\n * Toggles the check state of a group of boxes\n *\n * Checkboxes must have an id attribute in the form cb0, cb1...\n *\n * @param    {Number} checkbox  The number of box to 'check', for a checkbox element\n * @param    {String} [stub]    An alternative field name\n */\nakeeba.System.checkAll = function (checkbox, stub)\n{\n    if (!stub)\n    {\n        stub = \"cb\";\n    }\n\n    if (checkbox.form)\n    {\n        var c = 0;\n\n        for (var i = 0, n = checkbox.form.elements.length; i < n; i++)\n        {\n            var e = checkbox.form.elements[i];\n\n            if (e.type == checkbox.type)\n            {\n                if ((stub && e.id.indexOf(stub) == 0) || !stub)\n                {\n                    e.checked = checkbox.checked;\n                    c += (e.checked == true ? 1 : 0);\n                }\n            }\n        }\n\n        if (checkbox.form.boxchecked)\n        {\n            checkbox.form.boxchecked.value = c;\n        }\n\n        return true;\n    }\n\n    return false;\n};\n\n/**\n * Update the boxchecked field of a form when a checkbox is checked. Based on Joomla.isChecked of Joomla! 3.\n *\n * @param   {Boolean} isItChecked  The checkbox\n * @param   {Element} [form]       The form to update\n */\nakeeba.System.isChecked = function (isItChecked, form)\n{\n    if (typeof (form) === \"undefined\")\n    {\n        form = document.getElementById(\"adminForm\");\n    }\n\n    if (isItChecked == true)\n    {\n        form.boxchecked.value++;\n    }\n    else\n    {\n        form.boxchecked.value--;\n    }\n};\n\n/**\n * Apply the grid view table ordering\n *\n * @param  {String} order - Name of the field to order the form by\n * @param  {String} dir - The sort direction, \"asc\" or \"desc\"\n * @param  {String} [task] - The task to apply to the form\n * @param  {Element} [form] - The form, defaults to adminForm\n */\nakeeba.System.tableOrdering = function (order, dir, task, form)\n{\n    if (typeof form === \"undefined\")\n    {\n        form = document.getElementById(\"adminForm\");\n    }\n\n    form.filter_order.value     = order;\n    form.filter_order_Dir.value = dir;\n    akeeba.System.submitForm(task, form);\n};\n\n/**\n * Submit a form\n *\n * @param  {String} [task] - The given task, null to leave the form's task as currently set\n * @param  {Element} [form] - The form element, defaults to adminForm\n * @param  {boolean} [validate] - Should I apply HTML5 form validation? If not defined it's the same as false\n */\nakeeba.System.submitForm = function (task, form, validate)\n{\n    if (!form)\n    {\n        form = document.getElementById(\"adminForm\");\n    }\n\n    if (task)\n    {\n        form.task.value = task;\n    }\n\n    // Toggle HTML5 validation\n    form.noValidate = !validate;\n\n    if (!validate)\n    {\n        form.setAttribute(\"novalidate\", \"\");\n    }\n    else if (form.hasAttribute(\"novalidate\"))\n    {\n        form.removeAttribute(\"novalidate\");\n    }\n\n    // Create an input type=\"submit\"\n    var button           = document.createElement(\"input\");\n    button.style.display = \"none\";\n    button.type          = \"submit\";\n\n    // Append the button and click it\n    form.appendChild(button);\n\n    button.click();\n\n    // If \"submit\" was prevented, make sure we don't get a build up of buttons\n    form.removeChild(button);\n};\n\n/**\n * Apply the grid view table ordering based on the sortTable options\n *\n * This is meant to be used as the change event handler for the Sort By and Sort Ordering dropdowns in grid views\n */\nakeeba.System.orderTable = function ()\n{\n    var table     = document.getElementById(\"sortTable\");\n    var direction = document.getElementById(\"directionTable\");\n    var order     = table.options[table.selectedIndex].value;\n    var dir       = \"asc\";\n\n    if (order === akeeba.System.getOptions(\"akeeba.System.tableOrder\", \"asc\"))\n    {\n        dir = direction.options[direction.selectedIndex].value;\n    }\n\n    akeeba.System.tableOrdering(order, dir);\n};\n\n/**\n * Apply a callback to a list of DOM elements\n *\n * This is useful when applying an event handler to all objects that have a specific CSS class. Example:\n * akeeba.System.iterateNodes(\"superClickable\", function (el) {\n *     akeeba.System.addEventListener(el, \"click\", mySuperClickableHandler);\n * });\n *\n * @param {String|NodeList} elements - The NodeList to iterate or a CSS query selector pass to document.querySelectorAll\n * @param {function} callback - The callback to execute for each node\n * @param {*} [context] - Optional additional parameter to pass to the callback\n */\nakeeba.System.iterateNodes = function (elements, callback, context)\n{\n    if (typeof callback != \"function\")\n    {\n        return;\n    }\n\n    // Allow passing a CSS selector string instead of a NodeList object\n    if (typeof elements === \"string\")\n    {\n        elements = document.querySelectorAll(elements);\n    }\n\n    if (elements.length === 0)\n    {\n        return;\n    }\n\n    var i;\n    var el;\n\n    for (i = 0; i < elements.length; i++)\n    {\n        el = elements[i];\n\n        if (typeof context !== \"undefined\")\n        {\n            callback(el, context);\n\n            continue;\n        }\n\n        callback(el);\n    }\n};\n\n/**\n * Assign the default AJAX error handler that best matches the document.\n *\n * If the akeeba.System.params.errorDialogId and .errorDialogMessageId script options are set, they correspond to\n * existing elements and the akeeba.Modal is a valid object we'll be using the modalErrorHandler. Otherwise we fall back\n * to the dead simple defaultErrorHandler that simply shows an alert.\n */\nakeeba.System.assignDefaultErrorHandler = function ()\n{\n    // Use the modal error handler unless there is a reason not to\n    akeeba.System.params.errorCallback = akeeba.System.modalErrorHandler;\n\n    // If the Modal code is not present always and immediately fall back to the simpler error handler\n    if (typeof akeeba.Modal === \"undefined\")\n    {\n        akeeba.System.params.errorCallback = akeeba.System.defaultErrorHandler;\n\n        return;\n    }\n\n    var dialogId       = akeeba.System.getOptions(\n        \"akeeba.System.params.errorDialogId\", akeeba.System.params.errorDialogId);\n    var errorMessageId = akeeba.System.getOptions(\n        \"akeeba.System.params.errorDialogMessageId\", akeeba.System.params.errorDialogMessageId);\n\n    // If the modal configuration is not present fall back to the simpler error handler\n    if ((dialogId === \"\") || (dialogId === null) || (errorMessageId === \"\") || (errorMessageId === null))\n    {\n        akeeba.System.params.errorCallback = akeeba.System.defaultErrorHandler;\n\n        return;\n    }\n\n    // If either element used in the modal code is not present fall fall back to the simpler error handler\n    var dialogElement = document.getElementById(dialogId);\n    var errorElement  = document.getElementById(errorMessageId);\n\n    if ((dialogElement === null) || (errorElement === null))\n    {\n        akeeba.System.params.errorCallback = akeeba.System.defaultErrorHandler;\n    }\n\n};\n\n\n/**\n * JavaScript internationalization\n *\n * @type {{}}\n *\n * Allows you to call akeeba.System.Text._() to get a translated JavaScript string pushed in via script options.\n */\nakeeba.System.Text = {\n    strings: {},\n\n    /**\n     * Translates a string into the current language.\n     *\n     * @param {String} key   The string to translate\n     * @param {String} [def] Default string\n     *\n     * @returns {String}\n     */\n    \"_\": function (key, def)\n         {\n\n             // Check for new strings in the optionsStorage, and load them\n             var newStrings = akeeba.System.getOptions(\"akeeba.text\");\n\n             if (newStrings)\n             {\n                 akeeba.System.Text.load(newStrings);\n\n                 var dummyObject            = {};\n                 dummyObject[\"akeeba.text\"] = null;\n\n                 akeeba.System.loadOptions(dummyObject);\n             }\n\n             def = def === undefined ? \"\" : def;\n             key = key.toUpperCase();\n\n             if (akeeba.System.Text.strings[key] !== undefined)\n             {\n                 return akeeba.System.Text.strings[key];\n             }\n\n             return def;\n         },\n\n    /**\n     * Formats a string using a port of the PHP sprintf function.\n     *\n     * @param    {string}  format - The format string to use.\n     * @param    {...*}    args - The values to be inserted into the format string.\n     * @returns  {string} - The formatted string.\n     */\n    sprintf: function()\n        {\n            if (arguments.length < 2)\n            {\n                return '';\n            }\n\n            let args = arguments;\n\n            args[0] = this._(args[0]);\n\n            return akeeba.System.sprintf(...arguments);\n        },\n\n    /**\n     * Generates a plural string based on the given key and count.\n     *\n     * @param {string} key - The translation key to look up for the plural string.\n     * @param {number} count - The count to determine the plural form.\n     * @return {string} - The translated plural string.\n     */\n    plural: function(key, count)\n        {\n            const altKey = `${key}_${count}`;\n\n            return this.sprintf(this.hasKey(altKey) ? altKey : key, count);\n        },\n\n    /**\n     * Checks if a given translation key exists.\n     *\n     * @param {string} key - The key to check in the strings object.\n     * @return {boolean} - True if the key exists in the strings object, false otherwise.\n     */\n    hasKey: function(key)\n        {\n            return typeof this.strings[key.toUpperCase()] !== \"undefined\";\n        },\n\n    /**\n     * Load new strings in the Text object\n     *\n     * @param {Object} object  Object with new strings\n     * @returns {akeeba.System.Text}\n     */\n    load: function (object)\n          {\n              for (var key in object)\n              {\n                  if (!object.hasOwnProperty(key))\n                  {\n                      continue;\n                  }\n                  this.strings[key.toUpperCase()] = object[key];\n              }\n\n              return this;\n          }\n};\n\n/**\n * Performs an AJAX request to the restoration script (restore.php).\n *\n * @param  {Object}   data              - An object with the query data, e.g. a serialized form\n * @param  {function} successCallback   - A function accepting a single object parameter, called on success\n * @param  {function} [errorCallback]   - A function accepting a single string parameter, called on failure\n * @param  {Boolean}  [useCaching=true] - Should we use the cache?\n * @param  {Number}   [timeout=60000]   - Timeout before cancelling the request (default 60s)\n * @param  {Boolean}  [oldToken=false]  - Should I search for the old token instead of the new one?\n *\n * @return\n */\nakeeba.System.doEncryptedAjax = function (data, successCallback, errorCallback, useCaching, timeout, oldToken)\n{\n    var url = akeeba.System.getOptions(\"akeeba.System.params.AjaxURL\", akeeba.System.params.AjaxURL);\n\n    if (data.hasOwnProperty(\"ajaxURL\"))\n    {\n        url = data.ajaxURL;\n\n        delete data.url;\n    }\n\n    var json      = JSON.stringify(data);\n    var post_data = {\n        json: json, ajaxURL: url\n    };\n    var password  = akeeba.System.getOptions(\"akeeba.System.params.password\", akeeba.System.params.password);\n\n    if (password.length > 0)\n    {\n        post_data.password = password;\n    }\n\n    return akeeba.System.doAjax(post_data, successCallback, errorCallback, useCaching, timeout, oldToken);\n};\n\n/**\n * Creates a modal box based on the data object. The keys to this object are:\n * - title          The title of the modal dialog, skip to not create a title\n * - body           The body content of the dialog. Not applicable if href is defined\n * - href           A URL to open in an IFrame inside the body\n * - iFrameHeight   The height of the IFrame, applicable if href is set\n * - iFrameWidth    The width of the IFrame, applicable if href is set\n * - OkLabel        The label of the OK (primary) button\n * - CancelLabel    The label of the Cancel button\n * - OkHandler      Run this when the OK button is pressed, before closing the modal\n * - CancelHandler  Run this when the Cancel button is pressed, after closing the modal\n * - showButtons    Set to false to not show the buttons\n *\n * Alternatively you can pass a reference to an element. In this case we expect that the rel attribute of the element\n * contains a JSON-encoded string of the data object.\n *\n * @param   data  The configuration data (see above)\n */\nakeeba.System.modal = function (data)\n{\n    try\n    {\n        if (typeof (data.rel) !== \"undefined\")\n        {\n            rel  = data.rel;\n            data = JSON.parse(rel);\n        }\n    }\n    catch (e)\n    {\n    }\n\n    // Outer modal markup\n    var modalWrapper = document.createElement(\"div\");\n    modalBody.setAttribute(\"tabindex\", \"-1\");\n    modalBody.setAttribute(\"role\", \"dialog\");\n    modalBody.setAttribute(\"aria-hidden\", \"true\");\n\n    var modalDialog       = document.createElement(\"div\");\n    modalDialog.className = \"modal-dialog\";\n    modalWrapper.appendChild(modalDialog);\n\n    var modalContent       = document.createElement(\"div\");\n    modalContent.className = \"modal-content\";\n    modalDialog.appendChild(modalContent);\n\n    // Modal Header\n    if (typeof (data.title) !== \"undefined\")\n    {\n        var modalHeader       = document.createElement(\"div\");\n        modalHeader.className = \"modal-header\";\n        modalContent.appendChild(modalHeader);\n\n        var headerCloseButton       = document.createElement(\"button\");\n        headerCloseButton.className = \"close\";\n        headerCloseButton.innerHTML = \"&times;\";\n        modalHeader.appendChild(headerCloseButton);\n\n        var modalHeaderTitle       = document.createElement(\"h4\");\n        modalHeaderTitle.className = \"modal-title\";\n        modalHeaderTitle.innerHTML = data.title;\n        modalHeader.appendChild(modalHeaderTitle);\n\n        // Assign events\n        if (typeof (data.CancelHandler) !== \"undefined\")\n        {\n            akeeba.System.addEventListener(headerCloseButton, \"click\", function (e)\n            {\n                var callback = data.CancelHandler;\n\n                akeeba.System.modalDialog.close();\n\n                callback(modalWrapper);\n                e.preventDefault();\n            });\n        }\n    }\n\n    // Modal body\n    var modalBody       = document.createElement(\"div\");\n    modalBody.className = \"modal-body\";\n    modalContent.appendChild(modalBody);\n\n    if (typeof (data.href) === \"undefined\")\n    {\n        // HTML body\n        modalBody.innerHTML = data.body;\n    }\n    else if (data.href.substr(0, 1) == \"#\")\n    {\n        // Inherited content\n        var inheritedElement = window.document.querySelector(data.href);\n\n        while (inheritedElement.childNodes.length > 0)\n        {\n            modalBody.appendChild(inheritedElement.childNodes[0]);\n        }\n    }\n    else\n    {\n        // IFrame\n\n        var iFrame               = document.createElement(\"iframe\");\n        iFrame.src               = data.href;\n        iFrame.width             = \"100%\";\n        iFrame.height            = 400;\n        iFrame.frameborder       = 0;\n        iFrame.allowtransparency = true;\n        modalBody.appendChild(iFrame);\n\n        if (typeof (data.iFrameHeight) !== \"undefined\")\n        {\n            iFrame.height = data.iFrameHeight;\n        }\n\n        if (typeof (data.iFrameWidth) !== \"undefined\")\n        {\n            iFrame.width = data.iFrameWidth;\n        }\n    }\n\n    // Should I show the buttons?\n    var showButtons = true;\n\n    if (typeof (data.showButtons) !== \"undefined\")\n    {\n        showButtons = data.showButtons;\n    }\n\n    // Modal buttons\n    if (showButtons)\n    {\n        // Create the modal footer\n        var modalFooter       = document.createElement(\"div\");\n        modalFooter.className = \"modal-footer\";\n        modalContent.appendChild(modalFooter);\n\n        // Get the button labels\n        var okLabel     = akeeba.System.Text._(\"UI-MODAL-OK\");\n        var cancelLabel = akeeba.System.Text._(\"UI-MODAL-CANCEL\");\n\n        if (typeof (data.OkLabel) !== \"undefined\")\n        {\n            okLabel = data.OkLabel;\n        }\n\n        if (typeof (data.CancelLabel) !== \"undefined\")\n        {\n            cancelLabel = data.CancelLabel;\n        }\n\n        // Create buttons\n        var cancelButton       = document.createElement(\"button\");\n        cancelButton.className = \"btn btn-default\";\n        cancelButton.setAttribute(\"type\", \"button\");\n        cancelButton.innerHTML = cancelLabel;\n        modalFooter.appendChild(cancelLabel);\n\n        var okButton       = document.createElement(\"button\");\n        okButton.className = \"btn btn-primary\";\n        okButton.setAttribute(\"type\", \"button\");\n        okButton.innerHTML = okLabel;\n        modalFooter.appendChild(okButton);\n\n        // Assign handlers\n        if (typeof (data.CancelHandler) !== \"undefined\")\n        {\n            akeeba.System.addEventListener(cancelButton, \"click\", function (e)\n            {\n                var callback = data.CancelHandler;\n                akeeba.System.modalDialog.close();\n                callback(modalWrapper);\n                e.preventDefault();\n            });\n        }\n\n        if (typeof (data.OkHandler) !== \"undefined\")\n        {\n            akeeba.System.addEventListener(okButton, \"click\", function (e)\n            {\n                var callback = data.OkHandler;\n                akeeba.System.modalDialog.close();\n                callback(modalWrapper);\n                e.preventDefault();\n            });\n        }\n        else\n        {\n            akeeba.System.addEventListener(okButton, \"click\", function (e)\n            {\n                akeeba.System.modalDialog.close();\n                e.preventDefault();\n            });\n        }\n\n        // Hide unnecessary buttons\n        if (okLabel.trim() == \"\")\n        {\n            okButton.style.display = \"none\";\n        }\n\n        if (cancelLabel.trim() == \"\")\n        {\n            cancelButton.style.display = \"none\";\n        }\n    }\n\n    // Show modal\n    akeeba.System.modalDialog = akeeba.Modal.open({\n        inherit: modalWrapper, width: \"450\", height: \"280\"\n    });\n};\n\n// Initialization\nakeeba.System.documentReady(function ()\n{\n    // Assign the correct default error handler\n    akeeba.System.assignDefaultErrorHandler();\n\n    // Grid Views: click event handler for the Check All checkbox\n    [].slice.call(document.querySelectorAll(\".akeebaGridViewCheckAll\")).forEach((el) =>\n    {\n        el.addEventListener(\"click\", function (e)\n        {\n            akeeba.System.checkAll(this);\n        })\n    });\n\n    // Grid Views: change event handler for the ordering field and direction dropdowns\n    [].slice.call(document.querySelectorAll(\".akeebaGridViewOrderTable\")).forEach((el) =>\n    {\n        el.addEventListener(\"change\", (e) =>\n        {\n            akeeba.System.orderTable();\n        });\n    });\n\n    // Grid Views: change event handler for search fields which autosubmit the form on change\n    [].slice.call(document.querySelectorAll(\".akeebaGridViewAutoSubmitOnChange\")).forEach((el) =>\n    {\n        el.addEventListener(\"change\", (e) =>\n        {\n            akeeba.System.submitForm();\n        });\n    });\n});\n"],"mappings":"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","ignoreList":[]}