function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}if("undefined"==typeof akeeba)var akeeba={};var Showon=function(){"use strict";function a(b){var c=this;_classCallCheck(this,a);var d=this;this.container=b||document,this.fields={},this.showonFields=[].slice.call(this.container.querySelectorAll("[data-showon]")),this.showonFields.length&&(this.showonFields.forEach(function(a){if(!a.hasAttribute("data-showon-initialised")){a.setAttribute("data-showon-initialised","");var b,e=a.getAttribute("data-showon")||"",f=JSON.parse(e);f.length&&(b=[].slice.call(d.container.querySelectorAll("[name=\"".concat(f[0].field,"\"], [name=\"").concat(f[0].field,"[]\"]"))),!c.fields[f[0].field]&&(c.fields[f[0].field]={origin:[],targets:[]}),b.forEach(function(a){-1===c.fields[f[0].field].origin.indexOf(a)&&c.fields[f[0].field].origin.push(a)}),c.fields[f[0].field].targets.push(a),1<f.length&&f.forEach(function(e,g){0===g||(b=[].slice.call(d.container.querySelectorAll("[name=\"".concat(e.field,"\"], [name=\"").concat(e.field,"[]\"]"))),!c.fields[f[0].field]&&(c.fields[f[0].field]={origin:[],targets:[]}),b.forEach(function(a){-1===c.fields[f[0].field].origin.indexOf(a)&&c.fields[f[0].field].origin.push(a)}),-1===c.fields[f[0].field].targets.indexOf(a)&&c.fields[f[0].field].targets.push(a))}))}}),this.linkedOptions=this.linkedOptions.bind(this),Object.keys(this.fields).forEach(function(a){c.fields[a].origin.length&&c.fields[a].origin.forEach(function(b){d.linkedOptions(a),b.addEventListener("change",function(){d.linkedOptions(a)}),b.addEventListener("keyup",function(){d.linkedOptions(a)}),b.addEventListener("click",function(){d.linkedOptions(a)})})})),console.log(this.fields)}return _createClass(a,[{key:"linkedOptions",value:function linkedOptions(a){var b=this;this.fields[a].targets.forEach(function(c){var d,e=JSON.parse(c.getAttribute("data-showon"))||[],f=!0;e.forEach(function(c,g){var h=c||{};h.valid=0,b.fields[a].origin.forEach(function(a){if(a.name.replace("[]","")===c.field){var b=a.id;if(a.getAttribute("type")&&["checkbox","radio"].includes(a.getAttribute("type").toLowerCase())){if(!a.checked)return;d=document.getElementById(b).value}else"SELECT"===a.nodeName&&a.hasAttribute("multiple")?d=Array.from(a.querySelectorAll("option:checked")).map(function(a){return a.value}):(d=document.getElementById(b).value,null===d&&"select"===a.tagName.toLowerCase()&&(d=[]));"object"===_typeof(d)||(d=JSON.parse("[\"".concat(d,"\"]"))),d.forEach(function(a){"="===h.sign&&-1!==h.values.indexOf(a)&&(h.valid=1),"!="===h.sign&&-1===h.values.indexOf(a)&&(h.valid=1)})}}),""===h.op?0===h.valid&&(f=!1):("AND"===h.op&&2>h.valid+e[g-1].valid&&(f=!1,h.valid=0),"OR"===h.op&&0<h.valid+e[g-1].valid&&(f=!0,h.valid=1))}),"option"===c.tagName?c.disabled=!f:f?(c.classList.remove("akeeba-showon-hidden"),c.dispatchEvent(new CustomEvent("akeeba:showon-show",{bubbles:!0}))):(c.classList.add("akeeba-showon-hidden"),c.dispatchEvent(new CustomEvent("akeeba:showon-hide",{bubbles:!0})))})}}]),a}();akeeba.Showon||(akeeba.Showon={initialise:function initialise(a){return new Showon(a)}}),akeeba.Showon.initialise(document);

//# sourceMappingURL=showon.min.js.map